
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>immanu10 - CORS Explained</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <nav>
        <h1 id="logo">
            <a href="/blog">immanu10s blog</a>
            <span>*All blogs are generated by AI</span>
        </h1>
        <div>
            <a href="https://github.com/immanu10/" target="_blank">github</a>
            <a href="https://www.linkedin.com/in/immanu10" target="_blank">linkedin</a>
        </div>
    </nav>
    <main>

<div>
    <time>10-Jan-2025</time>
</div>
<h1>CORS Explained</h1>
<br>
<div id="blog-content"><p>Cross-Origin Resource Sharing (CORS) is a security mechanism implemented by web browsers that controls access to resources from different origins.  An origin is defined by the combination of protocol (e.g., HTTP, HTTPS), domain (e.g., example.com), and port (e.g., 80, 443).  When a web page makes a request to a different origin than its own, the browser enforces CORS policies to prevent potential security vulnerabilities.</p>

<p>Imagine you have a website hosted at <code>example.com</code>. If you want to fetch data from an API located at <code>api.anothersite.com</code>, your browser will initiate a CORS check.  This is because the protocol, domain, and potentially the port are different.</p>

<p><strong>How CORS Works:</strong></p>

<p>When a browser makes a cross-origin request, it adds an <code>Origin</code> header to the request. This header indicates the origin of the requesting page. The server receiving the request then checks its CORS configuration. If the server allows access from the requesting origin, it responds with specific HTTP headers indicating permission. The most important of these headers is <code>Access-Control-Allow-Origin</code>.</p>

<p><strong>Example Scenario (Denied Request):</strong></p>

<ol>
<li><p><strong>Request:</strong> A JavaScript script on <code>example.com</code> makes a <code>fetch</code> request to <code>api.anothersite.com</code>.</p>

<pre><code class="language-javascript">fetch('https://api.anothersite.com/data')
  .then(response =&gt; {
    if (response.ok) {
      return response.json();
    } else {
      throw new Error('Network response was not ok');
    }
  })
  .then(data =&gt; console.log(data))
  .catch(error =&gt; console.error('Error:', error));
</code></pre></li>

<li><p><strong>Server Response (Without CORS Headers):</strong>  The server at <code>api.anothersite.com</code> responds with the requested data but <em>does not</em> include the necessary CORS headers like <code>Access-Control-Allow-Origin</code>.</p></li>

<li><p><strong>Browser Action:</strong> The browser blocks the response even though the server technically sent the data.  The JavaScript code will encounter an error in the <code>catch</code> block. This is a CORS error.  You&rsquo;ll likely see a message in your browser&rsquo;s console similar to:  &ldquo;No &lsquo;Access-Control-Allow-Origin&rsquo; header is present on the requested resource.&rdquo;</p></li>
</ol>

<p><strong>Example Scenario (Successful Request):</strong></p>

<ol>
<li><p><strong>Request:</strong> The same JavaScript <code>fetch</code> request is made.</p></li>

<li><p><strong>Server Response (With CORS Headers):</strong> This time, the server at <code>api.anothersite.com</code> includes the <code>Access-Control-Allow-Origin</code> header in its response:</p>

<pre><code>Access-Control-Allow-Origin: https://example.com
</code></pre></li>

<li><p><strong>Browser Action:</strong> The browser, seeing the appropriate CORS header allowing access from <code>example.com</code>, processes the response and makes the data available to the JavaScript code.</p></li>
</ol>

<p><strong>Other Important CORS Headers:</strong></p>

<ul>
<li><code>Access-Control-Allow-Methods</code>: Specifies the allowed HTTP methods (e.g., GET, POST, PUT).</li>
<li><code>Access-Control-Allow-Headers</code>: Specifies allowed request headers.</li>
<li><code>Access-Control-Allow-Credentials</code>: Indicates whether credentials (cookies, authorization headers) should be included in the request.  Requires setting <code>withCredentials: true</code> in your <code>fetch</code> call.</li>
</ul>

<p><strong>Preflight Requests (OPTIONS):</strong></p>

<p>For certain &ldquo;complex&rdquo; requests (e.g., POST requests with content types other than standard form data), the browser might send a &ldquo;preflight&rdquo; <code>OPTIONS</code> request before the actual request. This allows the server to indicate whether it supports the requested method and headers.</p>

<p>By understanding CORS, developers can troubleshoot cross-origin request issues and configure servers to securely allow access to their resources from different origins.</p>
</div>

    </main>
</body>
</html>
